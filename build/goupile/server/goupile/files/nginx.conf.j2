# This file is used as a template for domain server block generated by sync.py
# Replace with correct server directives if needed (SSL, etc.)

server {
    server_name {{goupile_domain}};

    listen 80;
    client_max_body_size 32M;

    location / {
        proxy_set_header Host $http_host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_pass http://unix:{{goupile_socket}}:;
    }
}
