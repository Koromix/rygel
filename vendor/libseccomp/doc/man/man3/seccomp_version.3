.TH "seccomp_version" 3 "18 February 2016" "paul@paul-moore.com" "libseccomp Documentation"
.\" //////////////////////////////////////////////////////////////////////////
.SH NAME
.\" //////////////////////////////////////////////////////////////////////////
seccomp_version \- Query the libseccomp version information
.\" //////////////////////////////////////////////////////////////////////////
.SH SYNOPSIS
.\" //////////////////////////////////////////////////////////////////////////
.nf
.B #include <seccomp.h>
.sp
.B struct scmp_version {
.B 	unsigned int major;
.B 	unsigned int minor;
.B 	unsigned int micro;
.B }
.sp
.BI "const struct scmp_version *seccomp_version(" void ");"
.sp
Link with \fI\-lseccomp\fP.
.fi
.\" //////////////////////////////////////////////////////////////////////////
.SH DESCRIPTION
.\" //////////////////////////////////////////////////////////////////////////
.P
The
.BR seccomp_version ()
and
.BR seccomp_reset ()
functions return a pointer to a
.B scmp_version
struct which contains the version information of the currently loaded
libseccomp library.  This function can be used by applications that need to
verify that they are linked to a specific libseccomp version at runtime.
.P
The caller should not attempt to free the returned
.B scmp_version
struct when finished.
.\" //////////////////////////////////////////////////////////////////////////
.SH RETURN VALUE
.\" //////////////////////////////////////////////////////////////////////////
The
.BR seccomp_version ()
function returns a pointer to a
.B scmp_version
structure on success, NULL on failure.  The caller should not attempt to free
the returned structure.
.\" //////////////////////////////////////////////////////////////////////////
.SH EXAMPLES
.\" //////////////////////////////////////////////////////////////////////////
.nf
#include <seccomp.h>

int main(int argc, char *argv[])
{
	const struct scmp_version *ver;

	ver = seccomp_version();
	if (ver == NULL)
		goto err;

	/* ... */

	return 0;

err:
	return \-1;
}
.fi
.\" //////////////////////////////////////////////////////////////////////////
.SH NOTES
.\" //////////////////////////////////////////////////////////////////////////
.P
While the seccomp filter can be generated independent of the kernel, kernel
support is required to load and enforce the seccomp filter generated by
libseccomp.
.P
The libseccomp project site, with more information and the source code
repository, can be found at https://github.com/seccomp/libseccomp.  This tool,
as well as the libseccomp library, is currently under development, please
report any bugs at the project site or directly to the author.
.\" //////////////////////////////////////////////////////////////////////////
.SH AUTHOR
.\" //////////////////////////////////////////////////////////////////////////
Paul Moore <paul@paul-moore.com>
.\" //////////////////////////////////////////////////////////////////////////

