<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"/>

        <link rel="icon" href="${THOP_BASE_URL}favicon.ico" />
        <title>THOP</title>

        <link rel="stylesheet" href="${THOP_BASE_URL}static/thop.css"/>
        <script type="text/javascript" src="${THOP_BASE_URL}static/thop.js"></script>
    </head>

    <body>
        <div id="side_bar">
            <a id="side_deploy" href="#" onclick="thop.toggleMenu('#side_menu'); return false;"></a>
            <nav id="side_menu">
                <div id="side_session_box" class="hide"></div>

                <img id="logo" src="${THOP_BASE_URL}static/thop_logo.svg" height="160" alt="THOP logo"/>
                <ul>
                    <li id="side_session_menu" class="hide"><a class="category"></a></li>

                    <li><a class="category" data-url="mco_list.routeToUrl({list: 'ghm_roots'});">Tarifs</a></li>
                    <li><a data-url="mco_list.routeToUrl({list: 'ghm_roots'});">Racines de GHM</a></li>
                    <li><a data-url="mco_pricing.routeToUrl({view: 'table'});">Grille</a></li>
                    <li><a data-url="mco_pricing.routeToUrl({view: 'chart'});">Courbes</a></li>

                    <li><a class="category" data-url="mco_tree.routeToUrl();">Listes</a></li>
                    <li><a data-url="mco_tree.routeToUrl();">Arbre de groupage</a></li>
                    <li><a data-url="mco_list.routeToUrl({list: 'ghm_ghs'});">GHM / GHS</a></li>
                    <li><a data-url="mco_list.routeToUrl({list: 'diagnoses'});">Diagnostics</a></li>
                    <li><a data-url="mco_list.routeToUrl({list: 'procedures'});">Actes</a></li>

                    <li><a class="category" data-url="mco_casemix.routeToUrl({cm_view: 'summary'});">Activité</a></li>
                    <li><a data-url="mco_casemix.routeToUrl({cm_view: 'summary'});">Synthèse</a></li>
                    <li><a data-url="mco_casemix.routeToUrl({cm_view: 'table'});">Grille</a></li>
                </ul>
            </nav>
        </div>

        <main>
            <a id="opt_deploy" class="deploy" href="#" onclick="thop.toggleMenu('#opt_menu'); return false;"></a>
            <nav id="opt_menu">
                <svg id="opt_indexes" class="indexes_line"></svg>

                <label id="opt_search">
                    Recherche
                    <input type="search" style="width: 16em;"
                           oninput="thop.go({search: this.value}, 200);"/>
                </label>
                <label id="opt_groups">
                    Tri
                    <select onchange="thop.go({group: this.value});"></select><br/>
                </label>

                <label id="opt_units">
                    <div style="width: 100%;"></div><br/>
                </label>
                <label id="opt_periods">
                    <div></div>
                    <div></div><br/>
                </label>
                <label id="opt_mode">
                    Comparer
                    <select onchange="thop.go({mode: this.value});">
                        <option value="none">Désactiver</option>
                        <option value="absolute">Absolu</option>
                    </select>
                </label>
                <label id="opt_algorithm">
                    Algorithme
                    <select onchange="thop.go({algorithm: this.value});"></select>
                </label>

                <button id="opt_update" onclick="thop.go({apply: true});"
                        style="margin-bottom: 1em;">Mettre à jour</button>

                <label id="opt_ghm_roots">
                    <select onchange="thop.go({ghm_root: this.value});"
                            style="width: 100%; margin-bottom: 4px;"></select><br/>
                </label>
                <label id="opt_diff_indexes">
                    Comparer
                    <select onchange="thop.go({diff: this.value});"
                            style="width: 12em;"></select>
                </label>
                <label id="opt_max_duration">
                    Durée
                    <input type="number" onchange="thop.go();"
                           value="200" min="0" max="500" step="5"/>
                </label>
                <label id="opt_apply_coefficient">
                    Coefficient prudentiel
                    <input type="checkbox"
                           onchange="thop.go({apply_coefficient: this.checked});"/>
                </label>
            </nav>
            <div id="log"></div>

            <div id="user">
                <form id="user_login">
                    <label>Utilisateur : <input id="user_username" type="text"/></label>
                    <label>Mot de passe : <input id="user_password" type="password"/></label>
                    <button onclick="user.login(); return false;">Se connecter</button>
                </form>
            </div>

            <div id="pr">
                <table id="pr_table" class="pr_grid"></table>
                <canvas id="pr_chart" width="400" height="300"></canvas>
            </div>

            <div id="tr">
                <ul id="tr_tree"></ul>
            </div>

            <div id="ls">
                <h1 id="ls_spec"></h1>
                <table class="ls_pager"></table>
                <p id="ls_stats"></p>
                <table id="ls_ghm_roots" class="ls_table"></table>
                <table id="ls_ghm_ghs" class="ls_table"></table>
                <table id="ls_diagnoses" class="ls_table"></table>
                <table id="ls_procedures" class="ls_table"></table>
                <table class="ls_pager"></table>
            </div>

            <div id="cm">
                <table class="cm_pager"></table>
                <table id="cm_summary" class="dtab"></table>
                <table class="cm_pager"></table>

                <table id="cm_table" class="pr_grid"></table>
            </div>
        </main>
    </body>
</html>
