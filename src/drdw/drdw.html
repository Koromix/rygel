<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"/>

        <link rel="icon" href="/favicon.ico" />
        <title>drdw</title>

        <script type="text/javascript" src="/static/chart.min.js"></script>

        <link rel="stylesheet" href="/static/common.css"/>
        <link rel="stylesheet" href="/static/pricing.css"/>
        <link rel="stylesheet" href="/static/list.css"/>
        <link rel="stylesheet" href="/static/casemix.css"/>
        <script type="text/javascript" src="/static/common.js"></script>
        <script type="text/javascript" src="/static/pricing.js"></script>
        <script type="text/javascript" src="/static/list.js"></script>
        <script type="text/javascript" src="/static/casemix.js"></script>
    </head>

    <body>
        <div id="side_bar">
            <a class="deploy" href="#" onclick="toggleMenu('#side_menu'); return false;"></a>
            <nav id="side_menu">
                <img id="logo" src="/static/logo.png" alt="drdw logo"/>
                <ul>
                    <li><a class="category" data-url="list.buildUrl({list: 'ghm_roots'});">Tarifs</a></li>
                    <li><a data-url="list.buildUrl({list: 'ghm_roots'});">Racines de GHM</a></li>
                    <li><a data-url="pricing.buildUrl({view: 'table'});">Table</a></li>
                    <li><a data-url="pricing.buildUrl({view: 'chart'});">Graphique</a></li>

                    <li><a class="category" data-url="list.buildUrl({list: 'classifier_tree'});">Listes</a></li>
                    <li><a data-url="list.buildUrl({list: 'classifier_tree'});">Arbre de groupage</a></li>
                    <li><a data-url="list.buildUrl({list: 'ghm_ghs'});">GHM / GHS</a></li>
                    <li><a data-url="list.buildUrl({list: 'diagnoses'});">Diagnostics</a></li>
                    <li><a data-url="list.buildUrl({list: 'procedures'});">Actes</a></li>

                    <li><a class="category" data-url="casemix.buildUrl({cm_view: 'global'});">Activité</a></li>
                    <li><a data-url="casemix.buildUrl({cm_view: 'global'});">Globale</a></li>
                    <li><a data-url="casemix.buildUrl({cm_view: 'ghm_root'});">Racine de GHM</a></li>
                </ul>
            </nav>
        </div>

        <main>
            <div id="pricing" class="page">
                <a class="deploy page_deploy" href="#" onclick="toggleMenu('#pricing_menu'); return false;"></a>
                <nav id="pricing_menu" class="page_menu">
                    <svg id="pricing_indexes" class="indexes_line">
                        <text x="0" y="25" text-anchor="start" onclick="moveIndex(-1);" style="cursor: pointer; font-size: 1.5em;">≪</text>
                        <line x1="6%" y1="20" x2="94%" y2="20" style="stroke: #888; stroke-width: 1"/>
                        <g></g>
                        <text x="100%" y="25" text-anchor="end" onclick="moveIndex(1);" style="cursor: pointer; font-size: 1.5em;">≫</text>
                    </svg>

                    <select id="pricing_ghm_roots" onchange="pricing.route({ghm_root: this.value});"
                            style="width: 96%;"></select><br/>
                    <label>
                        Comparer
                        <select id="pricing_diff_indexes" onchange="pricing.route({diff: this.value});"
                                style="width: 12em;"></select>
                    </label>
                    <label>
                        Durée
                        <input id="pricing_max_duration" type="number" onchange="pricing.route();"
                               value="200" min="0" max="500" step="5"/>
                    </label>
                    <label>
                        <span>Coefficient prudentiel</span>
                        <input id="pricing_coeff" type="checkbox"
                               onchange="pricing.route({apply_coefficient: this.checked});"/>
                    </label>
                </nav>

                <div id="pricing_view">
                    <div class="log" style="display: none;"></div>

                    <table id="pricing_table" class="hide" ></table>
                    <canvas id="pricing_chart" class="hide" width="400" height="300"></canvas>
                </div>
            </div>

            <div id="list" class="page">
                <a class="deploy page_deploy" href="#" onclick="toggleMenu('#list_menu'); return false;"></a>
                <nav id="list_menu" class="page_menu">
                    <svg id="list_indexes" class="indexes_line">
                        <text x="0" y="25" text-anchor="start" onclick="moveIndex(-1);" style="cursor: pointer; font-size: 1.5em;">≪</text>
                        <line x1="6%" y1="20" x2="94%" y2="20" style="stroke: #888; stroke-width: 1"/>
                        <g></g>
                        <text x="100%" y="25" text-anchor="end" onclick="moveIndex(1);" style="cursor: pointer; font-size: 1.5em;">≫</text>
                    </svg>

                    <label class="hide">
                        Recherche
                        <input id="list_search" type="search" style="width: 16em;"
                               oninput="window.list.route({search: this.value}, 200);"/>
                    </label>

                    <label class="hide">
                        Tri
                        <select id="list_sort" onchange="list.route({sort: this.value});"></select><br/>
                    </label>
                </nav>

                <div id="list_view">
                    <div class="log" style="display: none;"></div>

                    <h1 id="list_spec"></h1>
                    <div class="list_pages hide"></div>
                    <table id="list_table" class="hide"></table>
                    <div class="list_pages hide"></div>

                    <ul id="list_tree" class="hide"></ul>
                </div>
            </div>

            <div id="casemix" class="page">
                <a class="deploy page_deploy" href="#" onclick="toggleMenu('#casemix_menu'); return false;"></a>
                <nav id="casemix_menu" class="page_menu">
                    <label>
                        Unités fonctionnelles
                        <input id="casemix_units" type="text" size="40" value=""/>
                    </label><br/>

                    <label>
                        Dates
                        <input id="casemix_start" type="date" value=""/>
                        <input id="casemix_end" type="date" value=""/>
                    </label>
                    <label>
                        Comparer
                        <input id="casemix_diff_start" type="date" value=""/>
                        <input id="casemix_diff_end" type="date" value=""/>
                    </label>
                    <label>
                        Algorithme
                        <select id="casemix_mode">
                            <option value="e">Algorithme E</option>
                            <option value="ex">Algorithme Ex</option>
                            <option value="ex2">Algorithme Ex'</option>
                            <option value="j">Algorithme J</option>
                            <option value="exj">Algorithme ExJ</option>
                            <option value="exj2">Algorithme Ex'J</option>
                        </select>
                    </label><br/>

                    <button onclick="casemix.route({cm_start: document.querySelector('#casemix_start').value,
                                                    cm_end: document.querySelector('#casemix_end').value,
                                                    cm_mode: document.querySelector('#casemix_mode').value,
                                                    cm_diff_start: document.querySelector('#casemix_diff_start').value,
                                                    cm_diff_end: document.querySelector('#casemix_diff_end').value,
                                                    cm_units: document.querySelector('#casemix_units').value});">Mettre à jour</button>
                </nav>

                <div id="casemix_view">
                    <table id="casemix_cmds" class="hide"></table>
                    <table id="casemix_roots" class="hide"></table>
                    <table id="casemix_ghs" class="hide"></table>
                </div>
            </div>
        </main>
    </body>
</html>
