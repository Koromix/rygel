<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"/>

        <link rel="icon" href="/favicon.ico" />
        <title>drdw</title>

        <link rel="stylesheet" href="/static/drdw.css"/>
        <script type="text/javascript" src="/static/drdw.js"></script>
    </head>

    <body>
        <div id="side_bar">
            <a class="deploy" href="#" onclick="toggleMenu('#side_menu'); return false;"></a>
            <nav id="side_menu">
                <div id="side_user_box"></div>

                <img id="logo" src="/static/logo.png" alt="drdw logo"/>
                <ul>
                    <li id="side_user_menu"><a class="category"></a></li>

                    <li><a class="category" data-url="list.routeToUrl({list: 'ghm_roots'});">Tarifs</a></li>
                    <li><a data-url="list.routeToUrl({list: 'ghm_roots'});">Racines de GHM</a></li>
                    <li><a data-url="pricing.routeToUrl({view: 'table'});">Grille</a></li>
                    <li><a data-url="pricing.routeToUrl({view: 'chart'});">Courbes</a></li>

                    <li><a class="category" data-url="tree.routeToUrl();">Listes</a></li>
                    <li><a data-url="tree.routeToUrl();">Arbre de groupage</a></li>
                    <li><a data-url="list.routeToUrl({list: 'ghm_ghs'});">GHM / GHS</a></li>
                    <li><a data-url="list.routeToUrl({list: 'diagnoses'});">Diagnostics</a></li>
                    <li><a data-url="list.routeToUrl({list: 'procedures'});">Actes</a></li>

                    <li><a class="category" data-url="casemix.routeToUrl({cm_view: 'global'});">Activité</a></li>
                    <li><a data-url="casemix.routeToUrl({cm_view: 'global'});">Globale</a></li>
                    <li><a data-url="casemix.routeToUrl({cm_view: 'ghm_root'});">Racine de GHM</a></li>
                </ul>
            </nav>
        </div>

        <main>
            <a id="opt_deploy" class="deploy" href="#" onclick="toggleMenu('#opt_menu'); return false;"></a>
            <nav id="opt_menu">
                <svg id="opt_indexes" class="indexes_line"></svg>

                <label id="opt_ghm_roots">
                    <select onchange="module.object.route({ghm_root: this.value});"
                            style="width: 100%;"></select><br/>
                </label>
                <label id="opt_diff_indexes">
                    Comparer
                    <select onchange="module.object.route({diff: this.value});"
                            style="width: 12em;"></select>
                </label>
                <label id="opt_max_duration">
                    Durée
                    <input type="number" onchange="module.object.route();"
                           value="200" min="0" max="500" step="5"/>
                </label>
                <label id="opt_apply_coefficient">
                    Coefficient prudentiel
                    <input type="checkbox"
                           onchange="module.object.route({apply_coefficient: this.checked});"/>
                </label>

                <label id="opt_search">
                    Recherche
                    <input type="search" style="width: 16em;"
                           oninput="module.object.route({search: this.value}, 200);"/>
                </label>
                <label id="opt_groups">
                    Tri
                    <select onchange="module.object.route({group: this.value});"></select><br/>
                </label>

                <label id="opt_units">
                    <div style="width: 100%;"></div><br/>
                </label>
                <label id="opt_diff_casemix">
                    Comparer
                    <select style="width: 12em;"></select>
                </label>
                <label id="opt_algorithm">
                    Algorithme
                    <select>
                        <option value="e">Algorithme E</option>
                        <option value="ex">Algorithme Ex</option>
                        <option value="ex2">Algorithme Ex'</option>
                        <option value="j">Algorithme J</option>
                        <option value="exj">Algorithme ExJ</option>
                        <option value="exj2">Algorithme Ex'J</option>
                    </select>
                </label>

                <button id="opt_update"
                        onclick="module.object.route({cm_mode: _('#opt_algorithm > select').value,
                                                      cm_diff: _('#opt_diff_casemix > select').value,
                                                      cm_units: multiSelectorValues(_('#opt_units > div'))});">Mettre à jour</button>
            </nav>
            <div id="log"></div>

            <div id="user">
                <form id="user_login">
                    <label>Utilisateur : <input id="user_username" type="text"/></label>
                    <label>Mot de passe : <input id="user_password" type="password"/></label>
                    <button onclick="user.login(); return false;">Se connecter</button>
                </form>
            </div>

            <div id="pr">
                <table id="pr_table" class="pr_grid"></table>
                <canvas id="pr_chart" width="400" height="300"></canvas>
            </div>

            <div id="tr">
                <ul id="tr_tree"></ul>
            </div>

            <div id="ls">
                <h1 id="ls_spec"></h1>
                <table class="ls_pages"></table>
                <p id="ls_stats"></p>
                <table id="ls_ghm_roots" class="ls_table"></table>
                <table id="ls_ghm_ghs" class="ls_table"></table>
                <table id="ls_diagnoses" class="ls_table"></table>
                <table id="ls_procedures" class="ls_table"></table>
                <table class="ls_pages"></table>
            </div>

            <div id="cm">
                <table id="cm_cmds"></table>
                <table id="cm_roots"></table>
                <table id="cm_ghs" class="pr_grid"></table>
            </div>
        </main>
    </body>
</html>
