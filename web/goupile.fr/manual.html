<!DOCTYPE html>
<!-- This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU Affero General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.

     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU Affero General Public License for more details.

     You should have received a copy of the GNU Affero General Public License
     along with this program. If not, see https://www.gnu.org/licenses/. -->
<html lang="fr">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <link rel="icon" href="favicon.png"/>
        <title>Goupile — Conception d'eCRF libre et gratuite</title>

        <link rel="stylesheet" href="static/goupile.fr.css"/>
        <link rel="stylesheet" href="static/opensans/OpenSans.css"/>
        <style>
            .widget {
                width: 100px;
                padding: 0.1em;
                background: #efefef;
            }
            .widget > img {
                width: 237px;
                object-fit: cover;
            }
            .code {
                font-family: monospace;
                white-space: pre-wrap;
                font-size: 1.1em;
                margin-left: 2em;
                color: #444;
            }
        </style>

        <script src="static/goupile.fr.js" async></script>
    </head>

    <body>
        <nav id="header">
            <div>
                <a href="/demo/">Tester en ligne</a>
                <a href="/contribute">Contribuer</a>
            </div>
            <a href="/"><img id="logo" src="favicon.png"/></a>
            <div>
                <a href="/manual">Documentation</a>
                <a href="mailto:hello@goupile.fr">Contact</a>
            </div>
        </nav>

        <main>
            <h1 id="setup">Administration</h1>
            <h2 id="setup_projects">Projets et utilisateurs</h2>
            <div class="screenshot right">
                <img src="static/screenshots/admin.webp"/>
                <p>Gérez vos projets et vos utilisateurs au sein du module d'administration.</p>
            </div>
            <p>Le panneau d'administration vous permet de créer des projets, des utilisateurs et de leur
            affecter des droits par projet.</p>
            <p>Par défaut, les panneaux <i>Projets</i> et <i>Utilisateurs</i> sont affichés côte à côte. Pour
            activer ou désactiver un panneau, utilisez les boutons dédiés dans le menu tout en haut de la page.</p>
            <p>Pour modifier les droits d'un utilisateur sur un projet spécifique, cliquez sur <i>Droits</i>
            à droite du nom du projet. Ceci affichera la liste des droits dans le panneau utilisateurs. Il
            existe deux ensembles de droits : les droits de développement (en vert), qui portent sur la
            mise au point des formulaires, et les droits de saisie (en violet), qui portent sur l'accès
            aux données (lecture, création, édition, suppression).</p>
            <div style="clear: both; display: flex;">
                <table style="margin: 1em;">
                    <thead>
                        <tr>
                            <th>Droit</th>
                            <th>Explication</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><em>Develop</em></td>
                            <td>Modification des formulaires</td>
                        </tr>
                        <tr>
                            <td><em>Publish</em></td>
                            <td>Publication des formulaires modifiés</td>
                        </tr>
                        <tr>
                            <td><em>Configure</em></td>
                            <td>Configuration du projet et des centres (multi-centrique)</td>
                        </tr>
                        <tr>
                            <td><em>Assign</em></td>
                            <td>Modification des droits des utilisateurs sur le projet</td>
                        </tr>
                    </tbody>
                </table>

                <table style="margin: 1em;">
                    <thead>
                        <tr>
                            <th>Droit</th>
                            <th>Explication</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><em>Read</em></td>
                            <td>Lecture des enregistrements</td>
                        </tr>
                        <tr>
                            <td><em>Create</em></td>
                            <td>Création d’un nouvel enregistrement</td>
                        </tr>
                        <tr>
                            <td><em>Modify</em></td>
                            <td>Modification d’un enregistrement existant</td>
                        </tr>
                        <tr>
                            <td><em>Delete</em></td>
                            <td>Suppression d’un enregistrement existant</td>
                        </tr>
                        <tr>
                            <td><em>Export</em></td>
                            <td>Export facile des données (CSV, XLSX, etc.)</td>
                        </tr>
                        <tr>
                            <td><em>Batch</em></td>
                            <td>Recalcul de toutes les variables calculées sur tous les enregistrements</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p>Par défaut, les projets sont mono-centriques. Pour transformer un projet mono-centrique en
            projet multi-centrique, cliquez sur le bouton <i>Diviser</i> à droite du projet et nommez le
            premier centre. Dans un projet multi-centrique les droits sont paramétrés, soit sur le projet
            global (droits de développement en vert), soit sur chaque centre (droits sur les données en violet).</p>

            <h2 id="setup_backups">Sauvegardes</h2>
            Le panneau de sauvegardes vous permet de sauvegarder l'intégralité des projets (formulaires et données) en un
            simple clic. Une fois la sauvegarde effectuée, vous pouvez télécharger le fichier créé (avec l'extension
            <i>.goupilebackup</i>) et le stocker à l'abri par un moyen adéquat.
            <p>Attention, pour pouvoir restaurer ce fichier, vous devez <b>conserver la clé de restauration</b> qui vous a été
            communiquée lors de la création du domaine. Sans cette clé, la restauration est impossible et les données
            sont perdues. Par ailleurs, <b>il nous est strictement impossible de récupérer cette clé</b> si vous la perdez.

            <h1 id="dev">Paramétrage des pages</h1>
            <h2 id="dev_main">Structure de l'application</h2>
            <p>Le <b>panneau d'édition d'application</b> permet de définir l'architecture des tables,
            les relations entre les tables, et l'organisation des pages ainsi que leur style global.</p>
            <h2 id="dev_page">Éditeur de page</h2>
            <p>L'<b>éditeur de page</b> vous permet de construire le contenu du formulaire. Il s'agit d'un
            éditeur de code, mais vous n'avez pas besoin de connaissances de programmation pour réaliser
            des formulaires simples : Goupile fournit des fonctions prédéfinies qui permet de créer les
            widgets (champ texte, numérique, liste déroulante, etc.) très simplement et de gérer les
            variables recueillies de manière automatique.</p>
            <div class="screenshot right">
                <img src="static/screenshots/editor.webp"/>
                <p>Programmez la page dans <b>l'éditeur</b> (gauche), et le <b>résultat</b> (droite)
                s'affiche immédiatement</p>
            </div>
            <p>Les changements réalisés dans l'éditeur sont immédiatement exécutés et le <b>panneau
            d'aperçu</b> à droite vous affiche le formulaire qui en résulte. Il s'agit de la même page
            qui sera présentée à l'utilisateur final. A ce stade, vous pouvez déjà ajouter des données.</p>
            <p>Une page est constituée de plusieurs <b>widgets</b>. De nombreux widgets prédéfinis sont
            disponibles : champ texte, champ numérique, liste déroulante, etc. Pour ajouter un widget,
            il vous suffit d'apeler une fonction. Pour la liste des widgets et les instructions détaillées,
            rendez-vous à la <a href="#dev_widgets">table des widgets</a>.</p>
            <p>Chaque widget accepte différentes <b>options</b>. Pour les widgets d'entrées (champs) vous devez
            spécifique un nom de variable et un libellé affiché à l'utilisateur. De nombreuses autres
            options sont disponibles : <i>champ obligatoire</i>, <i>affichage compact ou élargi</i>, etc.</p>
            <p>La programmation des pages se fait en Javascript, il s'agit d'un langage de programmation
            largement répandu sur le web. En conséquence, vous pouvez utiliser la majorité des fonctionnalités
            Javascript disponibles dans les navigateurs. Nous utiliserons cela pour implémenter des champs
            conditionnels et des boucles, parmi d'autres choses.</p>

            <h2 id="dev_widgets">Widgets standards</h2>
            <div class="screenshot right">
                <img src="static/screenshots/instant.png"/>
                <p>Exemples de widgets prédéfinis, avec le code à gauche et le résultat à droite</p>
            </div>
            <p>Les widgets sont créés en appelant des fonctions prédéfinies avec la syntaxe suivante :</p>
            <p class="code"><span style="color: #24579d;">function</span> ( <span style="color: #c09500;">"nom_variable"</span>, <span style="color: #842d3d;">"Libellé présenté à l'utilisateur"</span> )</p></p>
            <p>Les noms de variables doivent commencer par une lettre ou _, suivie de zéro ou plusieurs caractères
            alphanumériques ou _. Ils ne doivent pas contenir d'espaces, de caractères accentués ou tout autre
            caractère spécial.</p>
            <p>La plupart des widgets acceptent des paramètres optionnels de cette manière :</p>
            <p class="code"><span style="color: #24579d;">function</span> ( <span style="color: #c09500;">"nom_variable"</span>, <span style="color: #842d3d;">"Libellé présenté à l'utilisateur"</span>, {
    <span style="color: #054e2d;">option1</span> : <span style="color: #431180;">valeur</span>,
    <span style="color: #054e2d;">option2</span> : <span style="color: #431180;">valeur</span>
} )</p></p>
            <p>Attention à la syntaxe du code. Lorsque les parenthèses ou les guillemets ne
            correspondent pas, une erreur se produit et la page affichée ne peut pas être mise à jour
            tant que l'erreur persiste. La <a href="#dev_errors">section sur les erreurs</a> contient
            plus d'informations à ce sujet.</p>
            <h3>Input widgets</h3>
            <table>
                <tr>
                    <th>Widget</th>
                    <th>Code</th>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 58px; object-position: 0px 0px;"/></td>
                    <td class="code">page.text("variable", "Libellé")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 58px; object-position: 0 -53px;"/></td>
                    <td class="code">page.number("variable", "Libellé")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 58px; object-position: 0 -106px;"/></td>
                    <td class="code">page.slider("variable", "Libellé")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 58px; object-position: 0 -175px;"/></td>
                    <td class="code">page.date("nom_variable", "Libellé")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 63px; object-position: 0 -228px;"/></td>
                    <td class="code">page.binary("nom_variable", "Libellé")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 63px; object-position: 0 -285px;"/></td>
                    <td class="code">page.enum("nom_variable", "Libellé", [
    ["modality1", "modality1 Label"],
    ["modality2", "modality2 Label"]
])</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 58px; object-position: 0 -340px;"/></td>
                    <td class="code">page.enumDrop("nom_variable", "Libellé", [
    ["modality1", "modality1 Label"],
    ["modality2", "modality2 Label"]
])</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 74px; object-position: 0 -392px;"/></td>
                    <td class="code">page.enumRadio("nom_variable", "Libellé", [
    ["modality1", "modality1 Label"],
    ["modality2", "modality2 Label"]
])</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 63px; object-position: 0 -461px;"/></td>
                    <td class="code">page.multi("nom_variable", "Libellé", [
    ["modality1", "modality1 Label"],
    ["modality2", "modality2 Label"]
])</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 74px; object-position: 0 -517px;"/></td>
                    <td class="code">page.multiCheck("nom_variable", "Libellé", [
    ["modality1", "modality1 Label"],
    ["modality2", "modality2 Label"]
])</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 51px; object-position: 0 -586px;"/></td>
                    <td class="code">page.calc("nom_variable", 18)</td>
                </tr>
            </table>

            <h3>Other widgets</h3>
            <table>
                <tr>
                    <th>Widget</th>
                    <th>Code</th>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 152px; object-position: 0 -632px;"/></td>
                    <td class="code">page.section("Nom de la section", () => {
    page.text("variable1", "Label 1")
    page.number("variable2", "Label 2")
})</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 27px; object-position: 0 -779px;"/></td>
                    <td class="code">page.output("This is &lt;b&gt;text&lt;/b&gt; content")</td>
                </tr>
                <tr>
                    <td class="widget"><img src="static/screenshots/widgets.png" style="height: 27px; object-position: 0 -801px;"/></td>
                    <td class="code">page.output(html`This is &lt;b&gt;HTML&lt;/b&gt; content`)</td>
                </tr>
            </table>

            <h2 id="dev_errors">Erreurs de programmation</h2>
            <div class="screenshot">
                <img src="static/screenshots/error.png"/>
                <p>Voyez-vous l'erreur ? Il y a une parenthèse fermante en trop à droite.</p>
            </div>
            <p>Les langages de programmation (comme Javascript utilisé ici) sont très sensibles aux
            erreurs de syntaxe. Si vous faites une erreur, le code ne peut pas être exécuté et un
            message d'erreur sera affiché.</p>

            <p>Si cela se produit, <b>ne paniquez pas</b> ! La plupart des erreurs sont faciles à
            corriger. Si vous ne trouvez pas l'erreur, revenez en arrière à l'aide de Ctrl+Z.</p>

            <h1 id="publish">Publication du formulaire</h1>
            <div class="screenshot left">
                <img src="static/screenshots/publish.webp"/>
                <p>Publiez votre formulaire simplement lorsqu'il est prêt.</p>
            </div>
            <p>une fois votre formulaire prêt, vous devez le publier pour le rendre accessible aux autres
            utilisateurs. Après publication, les utilisateurs pourront saisir des données sur ces formulaires.</p>
            <p>Pour ce faire, cliquez sur le bouton <b>Publier</b> en haut à droite du panneau d'édition de code.
            Ceci affichera le panneau de publication (visible dans la capture à gauche).</p>
            <p>Ce panneau récapitule les modifications apportées et les actions qu'engendrera la publication.
            Dans la capture à droite, on voit qu'une page a été modifiée localement (nommée « <i>accueils</i> ») et sera
            rendue publique après acceptation des modifications.</p>

            <h1 id="run">Utilisation en routine</h1>
            <p>Une fois le formulaire prêt, les panneaux de suivi et d'export vous permettent
            de suivre l'avancée de la saisie et d'exporter les données.</p>

            <h2 id="run_status">Suivi des données</h2>
            <p>Le tableau de suivi affiche la liste des enregistrements avec leur statut (non saisi, enregistré,
            complété). Depuis ce tableau de suivi, vous pouvez accéder directement à un enregistrement spécifique
            pour le compléter ou vérifier les données saisies.</p>

            <h2 id="run_data">Export des données</h2>
            <div class="screenshot right">
                <img src="static/screenshots/data.webp"/>
                <p>Testez votre formulaire et vérifiez instantanément les données produites dans le
                panneau d'export.</p>
            </div>
            <p>Le panneau de données affiche vos données et vous permet de les exporter, au format CSV
            ou XLSX.</p>
        </main>
    </body>
</html>
